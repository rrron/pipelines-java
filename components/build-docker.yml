parameters:
- name: dockerfilename
  type: object
  default: 
    - dockerfolder/Dockerfile
    - dockerfolder/DockerfileHttpd
- name: personaltag
  type: object
  default:
    - $(Build.BuildId)
    - $(Build.BuildNumber)
# - name: build_Context
#   default: ''

steps:
  - ${{each thing in file.dockerfilename}}:
  - ${{each thing in tag.personaltag}}:
  - task: Docker@2
    inputs:
      containerRegistry: 'DockerHub'
      repository: 'nginx'
      command: 'build'
      Dockerfile: '${{ parameters.dockerfilename }}'
      # Dockerfile: 'dockerfolder/Dockerfile'
      buildContext: ''
      tags: '${{ parameters.personaltag }}'
      addPipelineData: false
      addBaseImageData: false