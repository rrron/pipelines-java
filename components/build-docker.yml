parameters:
- name: dockerfilename
  default: ''
- name: personaltag
  type: object
  default: 
  - '$(Build.BuildId)'
  - '$(Build.BuildNumber)'
# - name: build_Context
#   default: ''

steps:
- ${{each tag in parameters.personaltag}}:
  - task: Docker@2
    inputs:
      containerRegistry: 'DockerHub'
      repository: 'nginx'
      command: 'build'
      Dockerfile: '${{ parameters.dockerfilename }}'
      # Dockerfile: 'dockerfolder/Dockerfile'
      buildContext: ''
      tags: '$(tag)'
      addPipelineData: false
      addBaseImageData: false