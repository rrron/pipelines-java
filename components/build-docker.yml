parameters:
- name: dockerfilename
  type: object
  default: 
    - dockerfolder/Dockerfile
    - dockerfolder/DockerfileHttpd
- name: personaltag
  type: object
  default:
    - $(Build.BuildId)
    - $(Build.BuildNumber)
# - name: build_Context
#   default: ''

steps:
  - ${{each file in parameters.dockerfilename}}:
  - ${{each tag in parameters.personaltag}}:
  - task: Docker@2
    inputs:
      containerRegistry: 'DockerHub'
      repository: 'nginx'
      command: 'build'
      Dockerfile: '${{ parameters.file }}'
      # Dockerfile: 'dockerfolder/Dockerfile'
      buildContext: ''
      tags: '${{ parameters.tag }}'
      addPipelineData: false
      addBaseImageData: false